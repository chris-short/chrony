# Chrony NTP Container
#
# Uses host networking mode to bind directly to the host's network interfaces,
# ensuring NTP service is available on both IPv4 and IPv6.
#
# Note: dns/dns_search options are ignored with network_mode: host
# as the container uses the host's network stack directly.

services:
  chrony:
    image: ghcr.io/chris-short/chrony:latest
    container_name: chrony
    restart: always
    network_mode: host
    cap_add:
      - SYS_TIME
    dns:
      - 1.1.1.1
      - 8.8.8.8
    volumes:
      - chrony-data:/var/lib/chrony
      - chrony-logs:/var/log/chrony
      - ./chrony.conf:/etc/chrony/chrony.conf:ro

volumes:
  chrony-data:
  chrony-logs:
